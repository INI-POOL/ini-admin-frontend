{"version":3,"file":"useProjects-CJtDvocE.js","sources":["../../node_modules/vuestic-ui/dist/es/src/components/va-data-table/fabrics.js","../../src/pages/users/widgets/UserAvatar.vue","../../src/services/api.ts","../../src/data/pages/projects.ts","../../src/stores/projects.ts","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/native.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/data/pages/users.ts","../../src/stores/users.ts","../../src/pages/users/composables/useUsers.ts","../../src/pages/projects/composables/useProjectUsers.ts","../../src/pages/projects/composables/useProjects.ts"],"sourcesContent":["const defineVaDataTableColumns = (columns) => columns;\nconst defineVaDataTableItems = (items) => items;\nexport {\n  defineVaDataTableItems as a,\n  defineVaDataTableColumns as d\n};\n//# sourceMappingURL=fabrics.js.map\n","<script setup lang=\"ts\">\nimport { type PropType } from \"vue\";\nimport { type User } from \"../types\";\n\nconst avatarColor = (userName: string) => {\n  const colors = [\"primary\", \"#FFD43A\", \"#ADFF00\", \"#262824\", \"danger\"];\n  const index = userName.charCodeAt(0) % colors.length;\n  return colors[index];\n};\n\ndefineProps({\n  user: {\n    type: Object as PropType<User>,\n    required: true,\n  },\n  size: {\n    type: String,\n    default: \"medium\",\n  },\n});\n\nconst isUrl = (avatar: string) => {\n  if (!avatar) return false;\n\n  return avatar.startsWith(\"http\") || avatar.startsWith(\"blob:\");\n};\n\nconst fallback = (fullname: string) => {\n  try {\n    const [firstName, lastName] = fullname.split(\" \");\n    return `${firstName[0]}${lastName[0]}`;\n  } catch {\n    return fullname[0];\n  }\n};\n</script>\n\n<template>\n  <VaAvatar\n    :size=\"size\"\n    :src=\"isUrl(user.avatar) ? user.avatar : ''\"\n    :fallback-text=\"fallback(user.fullname)\"\n    :color=\"avatarColor(user.fullname)\"\n  />\n</template>\n","const apiBaseUrl = import.meta.env.VITE_API_BASE_URL;\n\nexport default {\n  allUsers: () => `${apiBaseUrl}/users`,\n  user: (id: string) => `${apiBaseUrl}/users/${id}`,\n  users: ({ page, pageSize }: { page: number; pageSize: number }) =>\n    `${apiBaseUrl}/users/?page=${page}&pageSize=${pageSize}`,\n  allProjects: () => `${apiBaseUrl}/projects`,\n  project: (id: string) => `${apiBaseUrl}/projects/${id}`,\n  projects: ({ page, pageSize }: { page: number; pageSize: number }) =>\n    `${apiBaseUrl}/projects/?page=${page}&pageSize=${pageSize}`,\n  avatars: () => `${apiBaseUrl}/avatars`,\n};\n","import api from \"../../services/api\";\nimport { Project } from \"../../pages/projects/types\";\n\nexport type Pagination = {\n  page: number;\n  perPage: number;\n  total: number;\n};\n\nexport type Sorting = {\n  sortBy: \"project_owner\" | \"team\" | \"created_at\";\n  sortingOrder: \"asc\" | \"desc\" | null;\n};\n\nexport const getProjects = async (options: Partial<Sorting> & Pagination) => {\n  const projects: Project[] = await fetch(api.allProjects()).then((r) =>\n    r.json(),\n  );\n\n  return {\n    data: projects,\n    pagination: {\n      page: options.page,\n      perPage: options.perPage,\n      total: projects.length,\n    },\n  };\n};\n\nexport const addProject = async (\n  project: Omit<Project, \"id\" | \"created_at\">,\n) => {\n  const headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n\n  return fetch(api.allProjects(), {\n    method: \"POST\",\n    body: JSON.stringify(project),\n    headers,\n  }).then((r) => r.json());\n};\n\nexport const updateProject = async (project: Omit<Project, \"created_at\">) => {\n  const headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n  return fetch(api.project(project.id), {\n    method: \"PUT\",\n    body: JSON.stringify(project),\n    headers,\n  }).then((r) => r.json());\n};\n\nexport const removeProject = async (project: Project) => {\n  return fetch(api.project(project.id), { method: \"DELETE\" });\n};\n","import { defineStore } from \"pinia\";\nimport {\n  addProject,\n  getProjects,\n  Pagination,\n  removeProject,\n  Sorting,\n  updateProject,\n} from \"../data/pages/projects\";\nimport { Project } from \"../pages/projects/types\";\n\nexport const useProjectsStore = defineStore(\"projects\", {\n  state: () => {\n    return {\n      items: [] as Project[],\n      pagination: {\n        page: 1,\n        perPage: 10,\n        total: 0,\n      } as Pagination,\n    };\n  },\n\n  actions: {\n    async getAll(options: { pagination: Pagination; sorting?: Sorting }) {\n      const { data, pagination } = await getProjects({\n        ...options.sorting,\n        ...options.pagination,\n      });\n      this.items = data;\n      this.pagination = pagination;\n    },\n\n    async add(project: Omit<Project, \"id\" | \"created_at\">) {\n      const [newProject] = await addProject(project);\n      this.items.push(newProject);\n    },\n\n    async update(project: Project) {\n      const [updatedProject] = await updateProject(project);\n      const index = this.items.findIndex(({ id }) => id === project.id);\n      this.items.splice(index, 1, updatedProject);\n    },\n\n    async remove(project: Project) {\n      const isRemoved = await removeProject(project);\n\n      if (isRemoved) {\n        const index = this.items.findIndex(({ id }) => id === project.id);\n        this.items.splice(index, 1);\n      }\n    },\n  },\n});\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random || (options.rng || rng)();\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { User } from \"../../pages/users/types\";\nimport api from \"../../services/api\";\n\nexport type Pagination = {\n  page: number;\n  perPage: number;\n  total: number;\n};\n\nexport type Sorting = {\n  sortBy: keyof User | undefined;\n  sortingOrder: \"asc\" | \"desc\" | null;\n};\n\nexport type Filters = {\n  isActive: boolean;\n  search: string;\n};\n\nexport const getUsers = async (\n  filters: Partial<Filters & Pagination & Sorting>,\n) => {\n  const { isActive, search } = filters;\n  let filteredUsers: User[] = await fetch(api.allUsers()).then((r) => r.json());\n\n  filteredUsers = filteredUsers.filter((user) => user.active === isActive);\n\n  if (search) {\n    filteredUsers = filteredUsers.filter((user) =>\n      user.fullname.toLowerCase().includes(search.toLowerCase()),\n    );\n  }\n\n  const { page = 1, perPage = 10 } = filters || {};\n  return {\n    data: filteredUsers,\n    pagination: {\n      page,\n      perPage,\n      total: filteredUsers.length,\n    },\n  };\n};\n\nexport const addUser = async (user: User) => {\n  const headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n\n  const result = await fetch(api.allUsers(), {\n    method: \"POST\",\n    body: JSON.stringify(user),\n    headers,\n  }).then((r) => r.json());\n\n  if (!result.error) {\n    return result;\n  }\n\n  throw new Error(result.error);\n};\n\nexport const updateUser = async (user: User) => {\n  const headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n\n  const result = await fetch(api.user(user.id), {\n    method: \"PUT\",\n    body: JSON.stringify(user),\n    headers,\n  }).then((r) => r.json());\n\n  if (!result.error) {\n    return result;\n  }\n\n  throw new Error(result.error);\n};\n\nexport const removeUser = async (user: User) => {\n  return fetch(api.user(user.id), { method: \"DELETE\" });\n};\n\nexport const uploadAvatar = async (body: FormData) => {\n  return fetch(api.avatars(), {\n    method: \"POST\",\n    body,\n    redirect: \"follow\",\n  }).then((r) => r.json());\n};\n","import { defineStore } from \"pinia\";\nimport {\n  addUser,\n  type Filters,\n  getUsers,\n  Pagination,\n  removeUser,\n  Sorting,\n  updateUser,\n  uploadAvatar,\n} from \"../data/pages/users\";\nimport { User } from \"../pages/users/types\";\n\nexport const useUsersStore = defineStore(\"users\", {\n  state: () => {\n    return {\n      items: [] as User[],\n      pagination: { page: 1, perPage: 10, total: 0 },\n    };\n  },\n\n  actions: {\n    async getAll(options: {\n      pagination?: Pagination;\n      sorting?: Sorting;\n      filters?: Partial<Filters>;\n    }) {\n      const { data, pagination } = await getUsers({\n        ...options.filters,\n        ...options.sorting,\n        ...options.pagination,\n      });\n      this.items = data;\n      this.pagination = pagination;\n    },\n\n    async add(user: User) {\n      const [newUser] = await addUser(user);\n      this.items.unshift(newUser);\n      return newUser;\n    },\n\n    async update(user: User) {\n      const [updatedUser] = await updateUser(user);\n      const index = this.items.findIndex(({ id }) => id === user.id);\n      this.items.splice(index, 1, updatedUser);\n      return updatedUser;\n    },\n\n    async remove(user: User) {\n      const isRemoved = await removeUser(user);\n\n      if (isRemoved) {\n        const index = this.items.findIndex(({ id }) => id === user.id);\n        this.items.splice(index, 1);\n      }\n    },\n\n    async uploadAvatar(formData: FormData) {\n      return uploadAvatar(formData);\n    },\n  },\n});\n","import { Ref, ref, unref, watch, computed } from \"vue\";\nimport { v4 as uuid } from \"uuid\";\nimport type { Filters, Pagination, Sorting } from \"../../../data/pages/users\";\nimport { User } from \"../types\";\nimport { useUsersStore } from \"../../../stores/users\";\n\nconst makePaginationRef = () =>\n  ref<Pagination>({ page: 1, perPage: 10, total: 0 });\nconst makeSortingRef = () =>\n  ref<Sorting>({ sortBy: \"fullname\", sortingOrder: null });\nconst makeFiltersRef = () =>\n  ref<Partial<Filters>>({ isActive: true, search: \"\" });\n\nexport const useUsers = (options?: {\n  pagination?: Ref<Pagination>;\n  sorting?: Ref<Sorting>;\n  filters?: Ref<Partial<Filters>>;\n}) => {\n  const isLoading = ref(false);\n  const error = ref();\n  const usersStore = useUsersStore();\n\n  const {\n    filters = makeFiltersRef(),\n    sorting = makeSortingRef(),\n    pagination = makePaginationRef(),\n  } = options || {};\n\n  const fetch = async () => {\n    isLoading.value = true;\n    try {\n      await usersStore.getAll({\n        filters: unref(filters),\n        sorting: unref(sorting),\n        pagination: unref(pagination),\n      });\n      pagination.value = usersStore.pagination;\n    } finally {\n      isLoading.value = false;\n    }\n  };\n\n  watch(\n    filters,\n    () => {\n      // Reset pagination to first page when filters changed\n      pagination.value.page = 1;\n      fetch();\n    },\n    { deep: true },\n  );\n\n  fetch();\n\n  const users = computed(() => {\n    const getSortItem = (obj: any, sortBy: string) => {\n      if (sortBy === \"projects\") {\n        return obj.projects.map((project: any) => project).join(\", \");\n      }\n\n      return obj[sortBy];\n    };\n\n    const paginated = usersStore.items.slice(\n      (pagination.value.page - 1) * pagination.value.perPage,\n      pagination.value.page * pagination.value.perPage,\n    );\n\n    if (sorting.value.sortBy && sorting.value.sortingOrder) {\n      paginated.sort((a, b) => {\n        const first = getSortItem(a, sorting.value.sortBy!);\n        const second = getSortItem(b, sorting.value.sortBy!);\n        if (first > second) {\n          return sorting.value.sortingOrder === \"asc\" ? 1 : -1;\n        }\n        if (first < second) {\n          return sorting.value.sortingOrder === \"asc\" ? -1 : 1;\n        }\n        return 0;\n      });\n    }\n    return paginated;\n  });\n\n  return {\n    error,\n    isLoading,\n    filters,\n    sorting,\n    pagination,\n\n    users,\n\n    fetch,\n\n    async add(user: User) {\n      isLoading.value = true;\n      try {\n        return await usersStore.add(user);\n      } catch (e) {\n        error.value = e;\n      } finally {\n        isLoading.value = false;\n      }\n    },\n\n    async update(user: User) {\n      isLoading.value = true;\n      try {\n        return await usersStore.update(user);\n      } catch (e) {\n        error.value = e;\n      } finally {\n        isLoading.value = false;\n      }\n    },\n\n    async remove(user: User) {\n      isLoading.value = true;\n      try {\n        return await usersStore.remove(user);\n      } catch (e) {\n        error.value = e;\n      } finally {\n        isLoading.value = false;\n      }\n    },\n\n    async uploadAvatar(avatar: Blob) {\n      const formData = new FormData();\n      formData.append(\"avatar\", avatar);\n      formData.append(\"id\", uuid());\n\n      return usersStore.uploadAvatar(formData);\n    },\n  };\n};\n","import { useUsers } from \"../../users/composables/useUsers\";\nimport { Project } from \"../types\";\n\nexport function useProjectUsers() {\n  const { users } = useUsers();\n\n  const getUserById = (userId: string) => {\n    return users.value.find(({ id }) => userId === id);\n  };\n\n  const avatarColor = (userName: string) => {\n    const colors = [\"primary\", \"#FFD43A\", \"#ADFF00\", \"#262824\", \"danger\"];\n    const index = userName.charCodeAt(0) % colors.length;\n    return colors[index];\n  };\n\n  const getTeamOptions = (team: Project[\"team\"]) => {\n    return team.reduce(\n      (acc, userId) => {\n        const user = getUserById(userId);\n\n        if (user) {\n          acc.push({\n            label: user.fullname,\n            src: user.avatar,\n            fallbackText: user.fullname[0],\n            color: avatarColor(user.fullname),\n          });\n        }\n\n        return acc;\n      },\n      [] as Record<string, string>[],\n    );\n  };\n\n  return {\n    users,\n    getUserById,\n    getTeamOptions,\n  };\n}\n","import { Ref, ref, unref, computed } from \"vue\";\nimport { Sorting, Pagination } from \"../../../data/pages/projects\";\nimport { Project } from \"../types\";\nimport { useProjectsStore } from \"../../../stores/projects\";\nimport { useProjectUsers } from \"./useProjectUsers\";\n\nconst makePaginationRef = () =>\n  ref<Pagination>({ page: 1, perPage: 10, total: 0 });\nconst makeSortingRef = () =>\n  ref<Sorting>({ sortBy: \"created_at\", sortingOrder: \"desc\" });\n\nexport const useProjects = (options?: {\n  sorting?: Ref<Sorting>;\n  pagination?: Ref<Pagination>;\n}) => {\n  const isLoading = ref(false);\n  const projectsStore = useProjectsStore();\n  const { getUserById } = useProjectUsers();\n\n  const { sorting = makeSortingRef(), pagination = makePaginationRef() } =\n    options ?? {};\n\n  const fetch = async () => {\n    isLoading.value = true;\n    await projectsStore.getAll({\n      sorting: unref(sorting),\n      pagination: unref(pagination),\n    });\n    pagination.value = projectsStore.pagination;\n\n    isLoading.value = false;\n  };\n\n  const projects = computed(() => {\n    const paginated = projectsStore.items.slice(\n      (pagination.value.page - 1) * pagination.value.perPage,\n      pagination.value.page * pagination.value.perPage,\n    );\n\n    const getSortItem = (obj: any, sortBy: Sorting[\"sortBy\"]) => {\n      if (sortBy === \"project_owner\") {\n        return getUserById(obj.project_owner)?.fullname;\n      }\n\n      if (sortBy === \"team\") {\n        return obj.team\n          .map((user: any) => getUserById(user)?.fullname || \"\")\n          .join(\", \");\n      }\n\n      if (sortBy === \"created_at\") {\n        return new Date(obj[sortBy]);\n      }\n\n      return obj[sortBy];\n    };\n\n    if (sorting.value.sortBy && sorting.value.sortingOrder) {\n      paginated.sort((a, b) => {\n        a = getSortItem(a, sorting.value.sortBy!);\n        b = getSortItem(b, sorting.value.sortBy!);\n\n        if (a < b) {\n          return sorting.value.sortingOrder === \"asc\" ? -1 : 1;\n        }\n        if (a > b) {\n          return sorting.value.sortingOrder === \"asc\" ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n\n    return paginated;\n  });\n\n  fetch();\n\n  return {\n    isLoading,\n\n    projects,\n\n    fetch,\n\n    async add(project: Omit<Project, \"id\" | \"created_at\">) {\n      isLoading.value = true;\n      await projectsStore.add(project);\n      await fetch();\n      isLoading.value = false;\n    },\n\n    async update(project: Project) {\n      isLoading.value = true;\n      await projectsStore.update(project);\n      await fetch();\n      isLoading.value = false;\n    },\n\n    async remove(project: Project) {\n      isLoading.value = true;\n      await projectsStore.remove(project);\n      await fetch();\n      isLoading.value = false;\n    },\n\n    pagination,\n    sorting,\n  };\n};\n"],"names":["defineVaDataTableColumns","columns","avatarColor","userName","colors","index","isUrl","avatar","fallback","fullname","firstName","lastName","apiBaseUrl","api","id","page","pageSize","getProjects","options","projects","r","addProject","project","headers","updateProject","removeProject","useProjectsStore","defineStore","data","pagination","newProject","updatedProject","byteToHex","i","unsafeStringify","arr","offset","getRandomValues","rnds8","rng","randomUUID","native","v4","buf","rnds","getUsers","filters","isActive","search","filteredUsers","user","perPage","addUser","result","updateUser","removeUser","uploadAvatar","body","useUsersStore","newUser","updatedUser","formData","makePaginationRef","ref","makeSortingRef","makeFiltersRef","useUsers","isLoading","error","usersStore","sorting","fetch","unref","watch","users","computed","getSortItem","obj","sortBy","paginated","a","b","first","second","e","uuid","useProjectUsers","getUserById","userId","team","acc","useProjects","projectsStore","_a"],"mappings":"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","x_google_ignoreList":[0,5,6,7,8]}